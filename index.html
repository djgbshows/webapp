<html>

<head>

    <!-- Date.js -->
    <script type="text/javascript" src="date.js"></script>

    <!--Options.css-->
    <link rel="stylesheet" href="options.css">
    <!-- myapp.js -->
    <script src="myapp.js"></script>

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <!-- Bootstrap 4.1.3 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <!-- Animate.js -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">
    <!-- or -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

    <!--Amcharts-->
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="https://www.amcharts.com/lib/3/serial.js"></script>
    <script src="https://www.amcharts.com/lib/3/amstock.js"></script>
    <script src="https://www.amcharts.com/lib/3/plugins/dataloader/dataloader.min.js"></script>
    <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>




</head>

<body>


    <script>
        $(document).ready(() => {

            //refresh()

            $('#run').on('click', () => {
                new Algo()
            })

            var ctx = document.getElementById('myChart').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'radar',

                // The data for our dataset
                data: {
                    labels: ["January", "February", "March", "April", "May", "June", "July"],
                    datasets: [{
                        label: "My First dataset",
                        backgroundColor: 'rgb(255, 99, 132)',
                        borderColor: 'rgb(255, 99, 132)',
                        data: [0, 10, 5, 2, 20, 30, 45],
                    }]
                },

                // Configuration options go here
                options: {}
            });

            var ctx = document.getElementById('myChart_2').getContext('2d');
            var chart = new Chart(ctx, {
                // The type of chart we want to create
                type: 'bar',

                // The data for our dataset
                data: {
                    labels: ["January", "February", "March", "April", "May", "June", "July"],
                    datasets: [{
                        label: "My First dataset",
                        backgroundColor: 'rgb(255, 99, 132)',
                        borderColor: 'rgb(255, 99, 132)',
                        data: [0, 10, 5, 2, 20, 30, 45],
                    }]
                },

                // Configuration options go here
                options: {}
            });
        })
    </script>

    <div class="container">

        <!--Row 1-->
        <div class="row">
            <div class="col-sm-8">
                <a>
                    <h4>GOD INDICATOR</h4>
                </a>
            </div>

            <div class="col-sm-4">
                <input type="input" placeholder="Input Stock 'aapl'" id="symbol"></input>
                <button class="btn btn-primary my-2 my-sm-0" type="button" id="run">RUN</button>
            </div>
        </div>

        <!--Row 2-->
        <div class="row" id="row1">

            <div class="col-sm-4" id="col">
                <center><img src="https://storage.googleapis.com/iex/api/logos/AAPL.png" id="logo"></center>
            </div>

            <div class="col-sm-4" id="col">
                <h1 class="data">
                    <center></center>
                </h1>

            </div>

            <div class="col-sm-4" id="col">
                <h1 class="signal">
                    <center></center>
                </h1>
            </div>


        </div>

        <!--Row 3-->
        <div class="row">

            <!--amchart-->
            <div class="col-sm-12" id="col">
                <div id="chartdiv"></div>
            </div>

        </div>

        <!--Row 4-->
        <div class="row">
            <!--Chart-->
            <div class="col-sm-4" id="col">
                <canvas id="myChart" responsive="true" maintainAspectRatio="true"></canvas>
            </div>
        </div>

    </div>


    <!--amcharts-->
    <style>
        #chartdiv {
            width: 100%;
            height: 500px;
        }
    </style>


    <!-- Chart code -->
    <script>
        var chart = AmCharts.makeChart("chartdiv", {
            "type": "stock",
            "theme": "light",

            //"color": "#fff",
            "dataSets": [{
                "title": "MSFT",
                "fieldMappings": [{
                    "fromField": "Open",
                    "toField": "open"
                }, {
                    "fromField": "High",
                    "toField": "high"
                }, {
                    "fromField": "Low",
                    "toField": "low"
                }, {
                    "fromField": "Close",
                    "toField": "close"
                }, {
                    "fromField": "Volume",
                    "toField": "volume"
                }],
                "compared": false,
                "categoryField": "Date",

                /**
                 * data loader for data set data
                 */
                "dataLoader": {
                    "url": "https://www.amcharts.com/wp-content/uploads/assets/stock/MSFT.csv",
                    "format": "csv",
                    "showCurtain": true,
                    "showErrors": true,
                    "async": true,
                    "reverse": true,
                    "delimiter": ",",
                    "useColumnNames": true
                },

                /**
                 * data loader for events data
                 */
                "eventDataLoader": {
                    "url": "https://www.amcharts.com/wp-content/uploads/assets/stock/MSFT_events.csv",
                    "format": "csv",
                    "showCurtain": true,
                    "showErrors": true,
                    "async": true,
                    "reverse": true,
                    "delimiter": ",",
                    "useColumnNames": true,
                    "postProcess": function (data) {
                        for (var x in data) {
                            switch (data[x].Type) {
                                case 'A':
                                    var color = "#85CDE6";
                                    break;
                                default:
                                    var color = "#cccccc";
                                    break;
                            }
                            data[x].Description = data[x].Description.replace("Upgrade", "<strong style=\"color: #0c0\">Upgrade</strong>").replace("Downgrade", "<strong style=\"color: #c00\">Downgrade</strong>");
                            data[x] = {
                                "type": "pin",
                                "graph": "g1",
                                "backgroundColor": color,
                                "date": data[x].Date,
                                "text": data[x].Type,
                                "description": "<strong>" + data[x].Title + "</strong><br />" + data[x].Description
                            };
                        }
                        return data;
                    }
                }

            }, {
                "title": "TXN",
                "fieldMappings": [{
                    "fromField": "Open",
                    "toField": "open"
                }, {
                    "fromField": "High",
                    "toField": "high"
                }, {
                    "fromField": "Low",
                    "toField": "low"
                }, {
                    "fromField": "Close",
                    "toField": "close"
                }, {
                    "fromField": "Volume",
                    "toField": "volume"
                }],
                "compared": true,
                "categoryField": "Date",
                "dataLoader": {
                    "url": "https://www.amcharts.com/wp-content/uploads/assets/stock/TXN.csv",
                    "format": "csv",
                    "showCurtain": true,
                    "showErrors": true,
                    "async": true,
                    "reverse": true,
                    "delimiter": ",",
                    "useColumnNames": true
                }
            }],
            "dataDateFormat": "YYYY-MM-DD",

            "panels": [{
                "title": "Value",
                "percentHeight": 70,

                "stockGraphs": [{
                    "type": "candlestick",
                    "id": "g1",
                    "openField": "open",
                    "closeField": "close",
                    "highField": "high",
                    "lowField": "low",
                    "valueField": "close",
                    "lineColor": "#fff",
                    "fillColors": "#fff",
                    "negativeLineColor": "#db4c3c",
                    "negativeFillColors": "#db4c3c",
                    "fillAlphas": 1,
                    "comparedGraphLineThickness": 2,
                    "columnWidth": 0.7,
                    "useDataSetColors": false,
                    "comparable": true,
                    "compareField": "close",
                    "showBalloon": false,
                    "proCandlesticks": true
                }],

                "stockLegend": {
                    "valueTextRegular": undefined,
                    "periodValueTextComparing": "[[percents.value.close]]%"
                }

            },

            {
                "title": "Volume",
                "percentHeight": 30,
                "marginTop": 1,
                "columnWidth": 0.6,
                "showCategoryAxis": false,

                "stockGraphs": [{
                    "valueField": "volume",
                    "openField": "open",
                    "type": "column",
                    "showBalloon": false,
                    "fillAlphas": 1,
                    "lineColor": "#fff",
                    "fillColors": "#fff",
                    "negativeLineColor": "#db4c3c",
                    "negativeFillColors": "#db4c3c",
                    "useDataSetColors": false
                }],

                "stockLegend": {
                    "markerType": "none",
                    "markerSize": 0,
                    "labelText": "",
                    "periodValueTextRegular": "[[value.close]]"
                },

                "valueAxes": [{
                    "usePrefixes": true
                }]
            }
            ],

            "panelsSettings": {
                //    "color": "#fff",
                "plotAreaFillColors": "#333",
                "plotAreaFillAlphas": 1,
                "marginLeft": 60,
                "marginTop": 5,
                "marginBottom": 5
            },

            "chartScrollbarSettings": {
                "graph": "g1",
                "graphType": "line",
                "usePeriod": "WW",
                "backgroundColor": "#333",
                "graphFillColor": "#666",
                "graphFillAlpha": 0.5,
                "gridColor": "#555",
                "gridAlpha": 1,
                "selectedBackgroundColor": "#444",
                "selectedGraphFillAlpha": 1
            },

            "categoryAxesSettings": {
                "equalSpacing": true,
                "gridColor": "#555",
                "gridAlpha": 1
            },

            "valueAxesSettings": {
                "gridColor": "#555",
                "gridAlpha": 1,
                "inside": false,
                "showLastLabel": true
            },

            "chartCursorSettings": {
                "pan": true,
                "valueLineEnabled": true,
                "valueLineBalloonEnabled": true
            },

            "legendSettings": {
                //"color": "#fff"
            },

            "stockEventsSettings": {
                "showAt": "high",
                "type": "pin"
            },

            "balloon": {
                "textAlign": "left",
                "offsetY": 10
            },

            "periodSelector": {
                "position": "bottom",
                "periods": [{
                    "period": "DD",
                    "count": 10,
                    "label": "10D"
                }, {
                    "period": "MM",
                    "count": 1,
                    "label": "1M"
                }, {
                    "period": "MM",
                    "count": 6,
                    "label": "6M"
                }, {
                    "period": "YYYY",
                    "count": 1,
                    "label": "1Y"
                }, {
                    "period": "YYYY",
                    "count": 2,
                    "selected": true,
                    "label": "2Y"
                },
                /* {
                     "period": "YTD",
                     "label": "YTD"
                   },*/
                {
                    "period": "MAX",
                    "label": "MAX"
                }
                ]
            }
        });
    </script>

    <!-- HTML -->
    <div id="chartdiv"></div>
</body>

</html>